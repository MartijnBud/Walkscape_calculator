<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Q3SZFB1FYP"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Q3SZFB1FYP");
    </script>
    <meta
      name="disclaimer"
      content="This site is not affiliated with WalkScape or its developers. All
    trademarks are the property of their respective owners."
    />
    <link
      rel="icon"
      type="image/png"
      href="assets/icons/favicon.png"
      sizes="32x32"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Walkscape Skill Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img src="assets/logo.png" alt="Logo" class="logo" />
    </header>
    <!-- Menu Button -->
    <div class="buttonClass">
      <button id="menuButton" class="menu-btn" onclick="toggleView()">
        Interactive World Map
      </button>
    </div>
    <div class="container" id="homeContainer">
      <h1>Skill Calculator</h1>
      <h3>
        This website is still under construction. <br />
        Some parts might not work as intended.
      </h3>

      <!-- Search Section -->
      <div id="searchSection">
        <h2>Search Character</h2>
        <label for="username">Enter Username:</label>
        <input type="text" id="username" placeholder="Enter username" />
        <button type="button" onclick="searchCharacter()">Search</button>
        <div id="searchResult"></div>
      </div>

      <!-- Skill Selection Section -->
      <div id="skillSelection" style="display: none">
        <h2>Select Skill</h2>
        <div class="select-container">
          <label for="skillDropdown">Choose a skill:</label>
          <select id="skillDropdown" onchange="updateCurrentXP()">
            <option value="">Select a skill</option>
            <option value="mining">Mining</option>
            <option value="agility">Agility</option>
            <option value="cooking">Cooking</option>
            <option value="fishing">Fishing</option>
            <option value="crafting">Crafting</option>
            <option value="foraging">Foraging</option>
            <option value="smithing">Smithing</option>
            <option value="woodcutting">Woodcutting</option>
            <option value="carpentry">Carpentry</option>
          </select>
        </div>
      </div>
      <!-- Some empty space here -->
      <p></p>
      <p></p>

      <!-- Skill Calculator Section -->
      <form id="skillCalculator">
        <label for="currentXP">Current XP:</label>
        <input type="number" id="currentXP" placeholder="Enter current XP" />

        <label for="currentLevel">Current Level:</label>
        <input type="number" id="currentLevel" min="1" max="99" required />

        <label for="desiredLevel">Desired Level:</label>
        <input type="number" id="desiredLevel" min="1" max="99" required />

        <!-- Gear Grid Section -->
        <div id="gearSection">
          <h2>Equip Gear</h2>
          <div class="gear-grid">
            <div class="gear-slot" id="cape" onclick="selectGear('cape')">
              Cape
            </div>
            <div class="gear-slot" id="head" onclick="selectGear('head')">
              Head
            </div>
            <div class="gear-slot" id="back" onclick="selectGear('back')">
              Back
            </div>

            <div class="gear-slot" id="hands" onclick="selectGear('hands')">
              Hands
            </div>
            <div class="gear-slot" id="chest" onclick="selectGear('chest')">
              Chest
            </div>
            <div class="gear-slot" id="neck" onclick="selectGear('neck')">
              Neck
            </div>

            <div class="gear-slot" id="primary" onclick="selectGear('primary')">
              Primary
            </div>
            <div class="gear-slot" id="legs" onclick="selectGear('legs')">
              Legs
            </div>
            <div
              class="gear-slot"
              id="secondary"
              onclick="selectGear('secondary')"
            >
              Secondary
            </div>
            <div class="gear-slot" id="ring1" onclick="selectGear('ring1')">
              Ring
            </div>
            <div class="gear-slot" id="feet" onclick="selectGear('feet')">
              Feet
            </div>
            <div class="gear-slot" id="ring2" onclick="selectGear('ring2')">
              Ring
            </div>
          </div>
          <p>Total Efficiency Bonus: <span id="totalBonus">0</span>%</p>
        </div>

        <!-- Centered Activity Dropdown -->
        <label for="activityDropdown">Select Activity:</label>
        <div class="select-container centered">
          <select
            id="activityDropdown"
            onchange="updateActivityValues()"
            required
          >
            <option value="">Select Activity</option>
          </select>
        </div>

        <!-- XP and Steps aligned next to each other -->
        <div class="action-info-container">
          <p>XP Per Action: <span id="xpPerActionDisplay">N/A</span></p>
          <p>Steps Per Action: <span id="stepsPerActionDisplay">N/A</span></p>
        </div>

        <button type="button" onclick="calculateXP()">Calculate</button>
      </form>
      <div id="result"></div>
    </div>
    <div id="mapContainer" class="container" style="display: none">
      <iframe
        id="worldMap"
        src="https://map.walkscape.app"
        frameborder="0"
      ></iframe>
    </div>

    <script src="script.js"></script>
    <div id="cookieConsent" class="cookie-banner">
      <p>
        We use cookies so you don't have to reselect your gear every time you
        use the calculator.
        <button id="acceptCookies">Accept</button>
        <button id="declineCookies">Decline</button>
      </p>
    </div>
  </body>
</html>
