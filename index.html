<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Q3SZFB1FYP"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Q3SZFB1FYP");
    </script>
    <meta
      name="disclaimer"
      content="This site is not affiliated with WalkScape or its developers. All
    trademarks are the property of their respective owners."
    />
    <link
      rel="icon"
      type="image/png"
      href="assets/images/favicon.png"
      sizes="32x32"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Walkscape Skill Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img src="assets/images/logo.png" alt="Logo" class="logo" />
    </header>
    <!-- Menu Button -->
    <div class="buttonClass">
      <button id="menuButton" class="menu-btn" onclick="toggleView()">
        Interactive World Map
      </button>
    </div>
    <!-- Main container -->
    <div class="container" id="homeContainer">
      <h1>Skill Calculator</h1>
      <h3>
        This website is still under construction. <br />
        Some parts might not work as intended.
      </h3>

      <!-- Search Section -->
      <div id="searchSection">
        <h2>Search Character</h2>
        <label for="username">Enter Username:</label>
        <input type="text" id="username" placeholder="Enter username" />
        <button type="button" onclick="searchCharacter()">Search</button>
        <div id="searchResult"></div>
      </div>

      <!-- Skill Selection Section -->
      <div id="skillSelection">
        <h2>Select Skill</h2>
        <div class="select-container">
          <label for="skillDropdown">Choose a skill:</label>
          <select id="skillDropdown" onchange="updateCurrentXP()">
            <option value="">Select a skill</option>
            <option value="mining">Mining</option>
            <option value="agility">Agility</option>
            <option value="cooking">Cooking</option>
            <option value="fishing">Fishing</option>
            <option value="crafting">Crafting</option>
            <option value="foraging">Foraging</option>
            <option value="smithing">Smithing</option>
            <option value="woodcutting">Woodcutting</option>
            <option value="carpentry">Carpentry</option>
          </select>
        </div>
      </div>
      <!-- Some empty space here -->
      <p></p>
      <p></p>

      <!-- Skill Calculator Section -->
      <form id="skillCalculator">
        <label for="currentXP">Current XP:</label>
        <input type="number" id="currentXP" placeholder="Enter current XP" />

        <label for="currentLevel">Current Level:</label>
        <input type="number" id="currentLevel" min="1" max="99" required />

        <label for="desiredLevel">Desired Level:</label>
        <input type="number" id="desiredLevel" min="1" max="99" required />

        <!-- Gear Grid Section -->
        <div id="gearSection">
          <h2>Equip Gear</h2>
          <div class="gear-grid">
            <div id="cape" onclick="selectGear('cape')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Cape"
              />
            </div>
            <div id="head" onclick="selectGear('head')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Head"
              />
            </div>
            <div id="back" onclick="selectGear('back')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Back"
              />
            </div>

            <div id="hands" onclick="selectGear('hands')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Hands"
              />
            </div>
            <div id="chest" onclick="selectGear('chest')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Chest"
              />
            </div>
            <div id="neck" onclick="selectGear('neck')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Neck"
              />
            </div>

            <div id="primary" onclick="selectGear('primary')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Primary"
              />
            </div>
            <div id="legs" onclick="selectGear('legs')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Legs"
              />
            </div>
            <div id="secondary" onclick="selectGear('secondary')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Secondary"
              />
            </div>
            <div id="ring1" onclick="selectGear('ring1')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Ring"
              />
            </div>
            <div id="feet" onclick="selectGear('feet')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Feet"
              />
            </div>
            <div id="ring2" onclick="selectGear('ring2')">
              <datalist id="suggestions">
                <option>First option</option>
                <option>Second Option</option>
              </datalist>
              <input
                autocomplete="on"
                list="suggestions"
                class="gear-slot"
                placeholder="Ring"
              />
            </div>
          </div>
          <p id="totalBonusExperienceDisplay" style="display: none">
            Total Bonus Experience:
            <span id="totalBonusExperience">0</span>%
            <br />
          </p>
          <p id="totalChestFindingDisplay" style="display: none">
            Total Chest Finding: <span id="totalChestFinding">0</span>%
            <br />
          </p>
          <p id="totalCraftingOutcomeDisplay" style="display: none">
            Total Crafting Outcome: <span id="totalCraftingOutcome">0</span>%
            <br />
          </p>
          <p id="totalDoubleActionDisplay" style="display: none">
            Total Double Action: <span id="totalDoubleAction">0</span>%
            <br />
          </p>
          <p id="totalDoubleRewardsDisplay" style="display: none">
            Total Double Rewards: <span id="totalDoubleRewards">0</span>%

            <br />
          </p>
          <p id="totalFindBirdNestsDisplay" style="display: none">
            Total Find Bird Nests: <span id="totalFindBirdNests">0</span>%

            <br />
          </p>
          <p id="totalFindCollectiblesDisplay" style="display: none">
            Total Find Collectibles:
            <span id="totalFindCollectibles">0</span>%
            <br />
          </p>
          <p id="totalFindGemsDisplay" style="display: none">
            Total Find Gems: <span id="totalFindGems">0</span>% <br />
          </p>
          <p id="totalFineMaterialFindingDisplay" style="display: none">
            Total Fine Material Finding:
            <span id="totalFineMaterialFinding">0</span>%
            <br />
          </p>
          <p id="totalInventorySpaceDisplay" style="display: none">
            Total Inventory Space: <span id="totalInventorySpace">0</span>%
            <br />
          </p>
          <p id="totalItemFindingDisplay" style="display: none">
            Total Item Finding: <span id="totalItemFinding">0</span>% <br />
          </p>
          <p id="totalNoMaterialsConsumed" style="display: none">
            Total No Materials Consumed:
            <span id="totalNoMaterialsConsumed">0</span>%
            <br />
          </p>
          <p id="totalSkillLevelDisplay" style="display: none">
            Total Skill Level: <span id="totalSkillLevel">0</span>% <br />
          </p>
          <p id="totalStepsRequiredDisplay" style="display: none">
            Total Steps Required: <span id="totalStepsRequired">0</span>% <br />
          </p>
          <p id="totalWorkEfficiencyDisplay" style="display: none">
            Total Work Efficiency: <span id="totalWorkEfficiency">0</span>%
            <br />
          </p>
        </div>
        <br />
        <br />
        <h4>Sort the table by clicking the headers</h3>
        <table id="activityTable">
          <thead>
            <tr>
              <th onclick="sortTable(0)">Level</th>
              <th>Activity</th>
              <th onclick="sortTable(2)">Total Actions</th>
              <th onclick="sortTable(3)">Total Steps</th>
              <th>Skill</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- XP and Steps aligned next to each other -->
        <div class="action-info-container">
          <p>XP Per Action: <span id="xpPerActionDisplay">N/A</span></p>
          <p>Steps Per Action: <span id="stepsPerActionDisplay">N/A</span></p>
        </div>

        <button type="button" onclick="calculateXP()">
          Calculate expected loot and show requirements
        </button>
      </form>
      <div id="result"></div>
    </div>
    <!-- Map container -->
    <div id="mapContainer" class="container" style="display: none">
      <iframe
        id="worldMap"
        src="https://map.walkscape.app"
        frameborder="0"
      ></iframe>
    </div>

    <script src="script.js"></script>
    <div id="cookieConsent" class="cookie-banner">
      <p>
        We use cookies so you don't have to reselect your gear every time you
        use the calculator.
        <button id="acceptCookies">Accept</button>
        <button id="declineCookies">Decline</button>
      </p>
    </div>
  </body>
</html>
