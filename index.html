<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Q3SZFB1FYP"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Q3SZFB1FYP");
    </script>
    <meta
      name="disclaimer"
      content="This site is not affiliated with WalkScape or its developers. All
    trademarks are the property of their respective owners."
    />
    <link
      rel="icon"
      type="image/png"
      href="assets/images/favicon.png"
      sizes="32x32"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Walkscape Skill Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img src="assets/images/logo.png" alt="Logo" class="logo" />
    </header>
    <!-- Menu Button -->
    <div class="buttonClass">
      <button id="menuButton" class="menu-btn" onclick="toggleView()">
        Interactive World Map
      </button>
    </div>
    <!-- Main container -->
    <div class="container" id="homeContainer">
      <h1>Skill Calculator</h1>
      <h3>
        This website is still under construction. <br />
        Some parts might not work as intended.
      </h3>

      <!-- Search Section -->
      <div id="searchSection">
        <h2>Search Character</h2>
        <label for="username">Enter Username:</label>
        <input type="text" id="username" placeholder="Enter username" />
        <button type="button" onclick="searchCharacter()">Search</button>
        <div id="searchResult"></div>
      </div>

      <!-- Skill Selection Section -->
      <div id="skillSelection">
        <h2>Select Skill</h2>
        <div class="select-container">
          <label for="skillDropdown">Choose a skill:</label>
          <select id="skillDropdown" onchange="updateCurrentXP()">
            <option value="">Select a skill</option>
            <option value="mining">Mining</option>
            <option value="agility">Agility</option>
            <option value="cooking">Cooking</option>
            <option value="fishing">Fishing</option>
            <option value="crafting">Crafting</option>
            <option value="foraging">Foraging</option>
            <option value="smithing">Smithing</option>
            <option value="woodcutting">Woodcutting</option>
            <option value="carpentry">Carpentry</option>
          </select>
        </div>
      </div>
      <!-- Some empty space here -->
      <p></p>
      <p></p>

      <!-- Skill Calculator Section -->
      <form id="skillCalculator">
        <label for="currentXP">Current XP:</label>
        <input type="number" id="currentXP" placeholder="Enter current XP" />

        <label for="currentLevel">Current Level:</label>
        <input type="number" id="currentLevel" min="1" max="99" required />

        <label for="desiredLevel">Desired Level:</label>
        <input type="number" id="desiredLevel" min="1" max="99" required />

        <!-- Gear Grid Section -->
        <div id="gearSection">
          <h2>Equip Gear</h2>
          <div class="gear-grid">
            <div id="cape" onclick="selectGear('cape')">
              <datalist id="capeSuggestions"></datalist>
              <input
                autocomplete="on"
                list="capeSuggestions"
                class="gear-slot"
                placeholder="Cape"
              />
            </div>
            <div id="head" onclick="selectGear('head')">
              <datalist id="headSuggestions"></datalist>
              <input
                autocomplete="on"
                list="headSuggestions"
                class="gear-slot"
                placeholder="Head"
              />
            </div>
            <div id="back" onclick="selectGear('back')">
              <datalist id="backSuggestions"></datalist>
              <input
                autocomplete="on"
                list="backSuggestions"
                class="gear-slot"
                placeholder="Back"
              />
            </div>
            <div id="hands" onclick="selectGear('hands')">
              <datalist id="handsSuggestions"></datalist>
              <input
                autocomplete="on"
                list="handsSuggestions"
                class="gear-slot"
                placeholder="Hands"
              />
            </div>
            <div id="chest" onclick="selectGear('chest')">
              <datalist id="chestSuggestions"></datalist>
              <input
                autocomplete="on"
                list="chestSuggestions"
                class="gear-slot"
                placeholder="Chest"
              />
            </div>
            <div id="neck" onclick="selectGear('neck')">
              <datalist id="neckSuggestions"></datalist>
              <input
                autocomplete="on"
                list="neckSuggestions"
                class="gear-slot"
                placeholder="Neck"
              />
            </div>
            <div id="primary" onclick="selectGear('primary')">
              <datalist id="primarySuggestions"></datalist>
              <input
                autocomplete="on"
                list="primarySuggestions"
                class="gear-slot"
                placeholder="Primary"
              />
            </div>
            <div id="legs" onclick="selectGear('legs')">
              <datalist id="legsSuggestions"></datalist>
              <input
                autocomplete="on"
                list="legsSuggestions"
                class="gear-slot"
                placeholder="Legs"
              />
            </div>
            <div id="secondary" onclick="selectGear('secondary')">
              <datalist id="secondarySuggestions"></datalist>
              <input
                autocomplete="on"
                list="secondarySuggestions"
                class="gear-slot"
                placeholder="Secondary"
              />
            </div>
            <div id="ring" onclick="selectGear('ring')">
              <datalist id="ringSuggestions"></datalist>
              <input
                autocomplete="on"
                list="ringSuggestions"
                class="gear-slot"
                placeholder="Ring"
              />
            </div>
            <div id="feet" onclick="selectGear('feet')">
              <datalist id="feetSuggestions"></datalist>
              <input
                autocomplete="on"
                list="feetSuggestions"
                class="gear-slot"
                placeholder="Feet"
              />
            </div>
            <div id="ring2" onclick="selectGear('ring')">
              <datalist id="ring2Suggestions"></datalist>
              <input
                autocomplete="on"
                list="ringSuggestions"
                class="gear-slot"
                placeholder="Ring"
              />
            </div>
            <div id="tools" onclick="selectGear('tools')">
              <datalist id="toolSuggestions"></datalist>
              <input
                autocomplete="on"
                list="toolSuggestions"
                class="gear-slot"
                placeholder="Tools"
              />
            </div>
            
            
          </div>
          
          <div id="totalsSection">
            <h3>Total Bonuses</h3>
            <table id="totalsTable">
              <thead>
                <tr>
                  <th>Attribute</th>
                  <th>Condition</th>
                  <th>Percentage Bonus</th>
                  <th>Flat Bonus</th>
                </tr>
              </thead>
              <tbody>
                <!-- Dynamic content will be inserted here -->
              </tbody>
            </table>
          </div>
          
        </div>
        <br />
        <br />
        <h4>Sort the table by clicking the headers</h3>
        <table id="activityTable">
          <thead>
            <tr>
              <th onclick="sortTable(0)">Level</th>
              <th>Activity</th>
              <th onclick="sortTable(2)">Total Actions</th>
              <th onclick="sortTable(3)">Total Steps</th>
              <th>Skill</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- XP and Steps aligned next to each other -->
        <div class="action-info-container">
          <p>XP Per Action: <span id="xpPerActionDisplay">N/A</span></p>
          <p>Steps Per Action: <span id="stepsPerActionDisplay">N/A</span></p>
        </div>

        <button type="button" onclick="calculateXP()">
          Calculate expected loot and show requirements
        </button>
      </form>
      <div id="result"></div>
    </div>
    <!-- Map container -->
    <div id="mapContainer" class="container" style="display: none">
      <iframe
        id="worldMap"
        src="https://map.walkscape.app"
        frameborder="0"
      ></iframe>
    </div>

    <script src="script.js"></script>
    <div id="cookieConsent" class="cookie-banner">
      <p>
        We use cookies so you don't have to reselect your gear every time you
        use the calculator.
        <button id="acceptCookies">Accept</button>
        <button id="declineCookies">Decline</button>
      </p>
    </div>
  </body>
</html>
